(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49],{4349:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});var t=r(4297);let a=(0,t.Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},9461:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});var t=r(4297);let a=(0,t.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},8490:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/DeliveryPartners",function(){return r(3831)}])},9822:function(e,s,r){"use strict";r.d(s,{C:function(){return l}});var t=r(5893);r(7294);var a=r(2003),n=r(9059);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:r,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)(i({variant:r}),s),...a})}},5096:function(e,s,r){"use strict";r.d(s,{z:function(){return d}});var t=r(5893),a=r(7294),n=r(8426),i=r(2003),l=r(9059);let c=(0,i.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:r,variant:a,size:i,asChild:d=!1,...o}=e,u=d?n.g7:"button";return(0,t.jsx)(u,{className:(0,l.cn)(c({variant:a,size:i,className:r})),ref:s,...o})});d.displayName="Button"},8781:function(e,s,r){"use strict";r.d(s,{Ol:function(){return l},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var t=r(5893),a=r(7294),n=r(9059);let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let u=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},1966:function(e,s,r){"use strict";r.d(s,{zk:function(){return i},cF:function(){return l},xW:function(){return c}});var t=JSON.parse('{"orders":[{"id":"ORD001","customer_name":"Alice Smith","customer_phone":"+1234567890","status":"pending","delivery_zone":"Downtown","items":[{"name":"Burger","quantity":2,"price":12.99}],"total_amount":25.98,"surge_multiplier":1}]}'),a=JSON.parse('{"deliveryPartners":[{"id":"DP001","name":"John Doe","phone":"+1234567890","vehicle_type":"bike","current_location":"Downtown","status":"available","active_orders":0,"rating":4.5}]}'),n=JSON.parse('{"policies":[{"id":"SP001","zone_name":"Downtown","demand_threshold_low":1.2,"demand_threshold_high":2,"supply_threshold_low":0.5,"max_surge_multiplier":2,"active":true},{"id":"SP002","zone_name":"Suburbs","demand_threshold_low":1.1,"demand_threshold_high":1.8,"supply_threshold_low":0.6,"max_surge_multiplier":1.8,"active":true},{"id":"SP003","zone_name":"Business District","demand_threshold_low":1.3,"demand_threshold_high":2.2,"supply_threshold_low":0.4,"max_surge_multiplier":2.2,"active":true}]}');function i(){return t.orders}function l(){return a.deliveryPartners}function c(){return n.policies}},9059:function(e,s,r){"use strict";r.d(s,{cn:function(){return n}});var t=r(512),a=r(7851);function n(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.m)((0,t.W)(s))}},3831:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return b}});var t=r(5893);r(7294);var a=r(1966),n=r(8781),i=r(5096),l=r(9822),c=r(4976),d=r(9560),o=r(4297);let u=(0,o.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),x=(0,o.Z)("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);var h=r(9461),m=r(1093);let g={available:"bg-green-500 text-white",busy:"bg-orange-500 text-white",offline:"bg-gray-500 text-white"},f={bike:x,scooter:h.Z,bicycle:x};function p(e){let{partner:s,onStatusUpdate:r,onSelect:a,isSelected:o}=e,h=f[s.vehicle_type]||x,p=()=>{switch(s.status){case"offline":default:return"available";case"available":return"busy";case"busy":return"offline"}};return(0,t.jsx)(m.E.div,{whileHover:{scale:1.02},className:"cursor-pointer ".concat(o?"ring-2 ring-blue-500":""),onClick:()=>a(s),children:(0,t.jsx)(n.Zb,{className:"border hover:shadow-md transition-all",children:(0,t.jsx)(n.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:s.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-1",children:[(0,t.jsx)(u,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:s.phone})]})]}),(0,t.jsx)(l.C,{className:g[s.status],children:s.status})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{children:s.current_location})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{className:"capitalize",children:s.vehicle_type})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),(0,t.jsxs)("span",{children:[s.rating," (",s.active_orders," active orders)"]})]})]}),s.active_orders>0&&(0,t.jsx)("div",{className:"bg-orange-50 p-2 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-orange-700",children:["Currently handling ",s.active_orders," order",s.active_orders>1?"s":""]})}),(0,t.jsxs)(i.z,{variant:"outline",size:"sm",className:"w-full",onClick:e=>{e.stopPropagation(),r(s.id,p())},children:["Set to ",p()]})]})})})})}var v=r(4349),j=r(5077),y=r(4933);function N(e){let{orders:s,partners:r,selectedPartner:a,onAssignOrder:d}=e,o=r.filter(e=>"available"===e.status);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(n.Zb,{className:"shadow-lg border-0",children:[(0,t.jsx)(n.Ol,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-t-lg",children:(0,t.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Z,{className:"w-5 h-5"}),"Orders Ready for Pickup (",s.length,")"]})}),(0,t.jsx)(n.aY,{className:"p-6",children:0===s.length?(0,t.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No orders pending assignment"}):(0,t.jsx)("div",{className:"space-y-4",children:s.slice(0,5).map(e=>{var s;return(0,t.jsx)(n.Zb,{className:"border",children:(0,t.jsx)(n.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(y.Z,{className:"w-4 h-4"}),e.customer_name]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.customer_phone})]}),(0,t.jsxs)(l.C,{className:"bg-blue-100 text-blue-800",children:["₹",e.total_amount]})]}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,t.jsx)(c.Z,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.delivery_zone})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,t.jsx)(j.Z,{className:"w-3 h-3"}),(0,t.jsxs)("span",{children:[e.estimated_delivery_time," mins"]})]})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[(null===(s=e.items)||void 0===s?void 0:s.length)||0," items • Surge: ",e.surge_multiplier,"x"]}),a&&"available"===a.status&&(0,t.jsxs)(i.z,{size:"sm",className:"w-full bg-green-500 hover:bg-green-600",onClick:()=>d(e,a),children:["Assign to ",a.name]})]})})},e.id)})})})]}),a&&(0,t.jsxs)(n.Zb,{className:"shadow-lg border-0",children:[(0,t.jsx)(n.Ol,{children:(0,t.jsx)(n.ll,{children:"Selected Partner"})}),(0,t.jsx)(n.aY,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:a.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:a.phone})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Location"}),(0,t.jsx)("p",{className:"font-medium",children:a.current_location})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Status"}),(0,t.jsx)(l.C,{className:"available"===a.status?"bg-green-500 text-white":"busy"===a.status?"bg-orange-500 text-white":"bg-gray-500 text-white",children:a.status})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Active Orders"}),(0,t.jsx)("p",{className:"font-medium",children:a.active_orders||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Rating"}),(0,t.jsxs)("p",{className:"font-medium",children:[a.rating," ⭐"]})]})]}),"available"!==a.status&&(0,t.jsx)("div",{className:"bg-orange-50 p-3 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-orange-700",children:["Partner is currently ",a.status,". Change status to available to assign orders."]})})]})})]}),(0,t.jsxs)(n.Zb,{className:"shadow-lg border-0",children:[(0,t.jsx)(n.Ol,{children:(0,t.jsx)(n.ll,{className:"text-lg",children:"Quick Stats"})}),(0,t.jsx)(n.aY,{children:(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Available Partners"}),(0,t.jsx)("span",{className:"font-medium",children:o.length})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Pending Orders"}),(0,t.jsx)("span",{className:"font-medium",children:s.length})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Orders per Partner"}),(0,t.jsx)("span",{className:"font-medium",children:o.length>0?(s.length/o.length).toFixed(1):0})]})]})})]})]})}function b(){let e=(0,a.cF)();return(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Delivery Partners"}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(n.Zb,{children:[(0,t.jsx)(n.Ol,{children:(0,t.jsx)(n.ll,{children:"Active Partners"})}),(0,t.jsx)(n.aY,{children:(0,t.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,t.jsx)(p,{partner:e,onStatusUpdate:()=>{},onSelect:()=>{},isSelected:!1},e.id))})})]})}),(0,t.jsx)(N,{partners:e,orders:[],selectedPartner:null,onAssignOrder:()=>{}})]})]})}}},function(e){e.O(0,[774,458,939,888,179],function(){return e(e.s=8490)}),_N_E=e.O()}]);